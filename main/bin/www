#!/usr/bin/env node
"use strict";
var debug = require('debug')('noc');
var app = require('../app');
var userRepository = require('../lib/repository/memory/user');
var User = require('../lib/model/user');

app.set('port', process.env.PORT || 3000);

var server = app.listen(app.get('port'), function() {

    let user = new User({
        sub: 1,
        username: 'user1',
        // password = test
        password: '$2a$10$DH8B5ZMp/gYV0FPNmpdj6e9LivlBBjUgVIacxstN/Ob/s8oYaL7xu'
    });
    userRepository.add(user);

    debug('Express server listening on port ' + server.address().port);
});
